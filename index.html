<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Be My Valentine üíñ</title>

<style>
  /* CUSTOM FONT */
  @font-face {
    font-family: 'Halimun';
    src: url('Halimun-W7jn.ttf') format('truetype');
    font-weight: normal;
    font-style: normal;
  }

  body {
    margin: 0;
    height: 100vh;
    overflow: hidden;
    font-family: 'Segoe UI', Tahoma, sans-serif;
    display: flex;
    justify-content: center;
    align-items: center;
  }

  /* VIDEO BACKGROUND */
  video {
    position: fixed;
    inset: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
    z-index: -3;
  }

  /* PINK OVERLAY */
  .overlay {
    position: fixed;
    inset: 0;
    background: rgba(255, 154, 158, 0.75);
    z-index: -2;
  }

  .card {
    background: rgba(255,255,255,0.92);
    padding: 2.2rem;
    border-radius: 22px;
    text-align: center;
    box-shadow: 0 15px 45px rgba(0,0,0,0.35);
    max-width: 440px;
    width: 90%;
  }

  h1 { color: #e63946; margin-bottom: 0.5rem; }
  h2 { font-weight: normal; margin-top: 0; }
  p { font-size: 1.05rem; color: #444; }

  .buttons {
    position: relative;
    height: 60px;
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 12px;
  }

  button {
    padding: 12px 24px;
    font-size: 1rem;
    border: none;
    border-radius: 30px;
    cursor: pointer;
  }

  #yesBtn { background: #e63946; color: white; }
  #noBtn { background: #ccc; position: absolute; }

  .hidden { display: none; }

  /* HEART EFFECTS */
  .heart {
    position: fixed;
    font-size: 22px;
    pointer-events: none;
    animation: float 6s linear forwards;
  }

  @keyframes float {
    from { transform: translateY(100vh); opacity: 1; }
    to { transform: translateY(-10vh); opacity: 0; }
  }

  .firework {
    animation: explode 1.8s ease-out forwards;
  }

  @keyframes explode {
    from { transform: scale(0); opacity: 1; }
    to {
      transform: translate(var(--x), var(--y)) scale(1.8);
      opacity: 0;
    }
  }

  /* LOVE LETTER */
  .letter {
    font-family: 'Halimun', cursive;
  }

  .letter p {
    opacity: 0;
    animation: reveal 1s forwards;
    font-size: 1.25rem;
    line-height: 1.6;
  }

  @keyframes reveal {
    to { opacity: 1; }
  }

  .final-love {
    margin-top: 1.4rem;
    font-family: 'Halimun', cursive;
    font-size: 1.35rem;
    color: #e63946;
    opacity: 0;
    animation: reveal 1s forwards;
    animation-delay: 6.5s;
  }

  /* MOBILE OPTIMIZATION */
  @media (max-width: 600px) {
    .card {
      max-width: 320px;
      padding: 1.6rem;
      background: rgba(255,255,255,0.82);
    }

    .letter p {
      font-size: 1.1rem;
    }

    .final-love {
      font-size: 1.2rem;
    }
  }
</style>
</head>

<body>

<!-- VIDEO -->
<video autoplay muted loop playsinline preload="auto">
  <source src="background.mp4" type="video/mp4">
</video>

<div class="overlay"></div>

<!-- AUDIO -->
<audio id="yesMusic" src="just-you-know-why.mp3" loop></audio>
<audio id="noMusic" src="any-man-of-mine.mp3" loop></audio>

<!-- QUESTION -->
<div class="card" id="question">
  <h1>Dear <span id="name">You</span> üíï</h1>
  <p>Every moment with you feels like destiny unfolding.</p>
  <h2>Will you be my Valentine?</h2>

  <div class="buttons">
    <button id="yesBtn">Yes üíñ</button>
    <button id="noBtn">No üôÉ</button>
  </div>
</div>

<!-- LOVE LETTER -->
<div class="card hidden" id="letter">
  <h1>My Dearest Kaisha üíå</h1>

  <div class="letter">
    <p style="animation-delay:0.5s">From the moment you came into my life, everything began to make sense.</p>
    <p style="animation-delay:1.5s">You didn‚Äôt just add to my world ‚Äî you completed it.</p>
    <p style="animation-delay:2.5s">You are my forever, Kaisha Kaisha Kaisha.</p>
    <p style="animation-delay:3.5s">You‚Äôre a perfect compliment to me ‚Äî my peace, my laughter, my joy.</p>
    <p style="animation-delay:4.5s">I love being married to you.</p>
    <p style="animation-delay:5.5s">And honestly‚Ä¶ if you didn‚Äôt say yes, it would still be me and you üòÑ</p>
  </div>

  <div class="final-love">
    I love you ‚ù§Ô∏è<br>
    Today. Tomorrow. Always.
  </div>
</div>

<script>
  const name = new URLSearchParams(window.location.search).get("name");
  if (name) document.getElementById("name").textContent = name;

  const yesBtn = document.getElementById("yesBtn");
  const noBtn = document.getElementById("noBtn");
  const yesMusic = document.getElementById("yesMusic");
  const noMusic = document.getElementById("noMusic");

  function fadeIn(audio) {
    audio.volume = 0;
    audio.play();
    let v = 0;
    const i = setInterval(() => {
      v += 0.05;
      audio.volume = Math.min(v, 1);
      if (v >= 1) clearInterval(i);
    }, 200);
  }

  noBtn.addEventListener("mouseover", () => {
    noBtn.style.transform =
      `translate(${Math.random()*200-100}px,${Math.random()*100-50}px)`;
  });

  noBtn.addEventListener("click", () => {
    yesMusic.pause();
    fadeIn(noMusic);
  });

  yesBtn.addEventListener("click", () => {
    noMusic.pause();
    fadeIn(yesMusic);

    document.getElementById("question").classList.add("hidden");
    document.getElementById("letter").classList.remove("hidden");

    for (let i = 0; i < 40; i++) {
      const h = document.createElement("div");
      h.className = "heart firework";
      h.textContent = "üíñ";
      h.style.left = "50%";
      h.style.top = "50%";
      h.style.setProperty("--x", `${Math.random()*400-200}px`);
      h.style.setProperty("--y", `${Math.random()*400-200}px`);
      document.body.appendChild(h);
      setTimeout(() => h.remove(), 1800);
    }

    setInterval(() => {
      const h = document.createElement("div");
      h.className = "heart";
      h.textContent = "üíó";
      h.style.left = Math.random()*100 + "vw";
      document.body.appendChild(h);
      setTimeout(() => h.remove(), 6000);
    }, 600);
  });
</script>

</body>
</html>